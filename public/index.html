<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Readr</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
  </head>
  <style>
    .search-form {
      width: 100%;
      max-width: 400px; /* Adjust max-width as needed */
      height: 48px; /* Adjust height as needed */
    }

    .search-input {
      width: 100%;
      height: 100%;
      padding: 0 16px; /* Adjust padding as needed */
    }

    .search-button {
      height: 100%;
    }
  </style>
  <body class="bg-yellow-50">
    <div class="min-h-screen px-6 py-3 flex-col md:px-10 lg:px-16 lg:py-7">
      <header class="flex justify-between items-center pb-20 mt-5">
        <div class="flex items-center space-x-10">
          <a href="" class="flex items-center">
            <h1 class="text-4xl font-bold">Readr.</h1>
          </a>
          <ul
            class="hidden lg:flex lg:items-center lg:gap-10 lg:text-lg lg:font-medium"
          >
            <li><a href="">Categories</a></li>
            <li><a href="">About</a></li>
            <li><a href="">Suggest a Book</a></li>
          </ul>
        </div>
        <div class="flex items-center gap-4">
          <form
            class="hidden lg:flex items-center border-2 border-yellow-900 p-2 rounded-full bg-transparent search-form"
          >
            <input
              type="text"
              class="search-input rounded-l-full focus:outline-none bg-transparent"
              placeholder="Search for books..."
            />
            <button
              type="submit"
              class="search-button rounded-r-full hover:bg-blue-600 focus:outline-none"
            >
              <i class="fas fa-search outline outline-2 outline-yellow-950"></i>
            </button>
          </form>

          <a id="auth-link" href="./signup.html">
            <button
              id="auth-button"
              class="bg-blue-900 px-2 py-1 font-medium rounded-md text-white"
            >
              Sign in
            </button>
          </a>
        </div>
        <div class="lg:hidden flex items-center gap-4">
          <i class="fa fa-search fa-2x" aria-hidden="true"></i>
          <!-- Search icon for mobile view -->
          <i
            class="fa fa-bars fa-2x"
            aria-hidden="true"
            onclick="toggleMenu()"
          ></i>
        </div>
      </header>
      <ul
        id="mobile-menu"
        class="hidden flex-col gap-4 mt-4 lg:hidden text-lg font-medium"
      >
        <li><a href="">Categories</a></li>
        <li><a href="">About</a></li>
        <li><a href="">Suggest a Book</a></li>
        <li>
          <a id="mobile-auth-link" href="./signup.html">
            <button
              id="mobile-auth-button"
              class="bg-blue-900 px-2 py-1 font-medium rounded-md text-white"
            >
              Sign in
            </button>
          </a>
        </li>
      </ul>
      <main class="lg:flex lg:flex-col lg:items-center">
        <div
          class="mt-14 w-96 h-10 rounded-full mx-auto my-4 flex items-center justify-center bg-yellow-200 mb-5"
        >
          <div
            class="w-[480px] h-[25px] text-center text-black text-2xl font-normal font-['Inria Serif'] leading-normal"
          >
            Over 1 thousand free e-books
          </div>
        </div>
        <div
          class="ZeroBsJustTheEBooksYouNeed text-center text-black text-5xl lg:text-8xl font-normal font-['Poppins'] leading-normal mt-4"
        >
          Zero BS, Just the e-books<br />
          you need
        </div>

        <div
          class="WhatPeopleHaveBeenReadingLately mt-16 text-center text-black text-4xl lg:text-5xl font-normal font-['Inria Serif'] leading-normal"
        >
          What people have been reading lately
        </div>
        <div class="mt-16 w-full px-6 lg:px-0">
          <div
            id="book-container"
            class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"
          >
            <!-- Hardcoded Book Boxes -->
            <!-- Box 1 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="book-cover-1"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="book-title-1"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 2 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="book-cover-2"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="book-title-2"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 3 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="book-cover-3"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="book-title-3"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 4 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="book-cover-4"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="book-title-4"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 5 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="book-cover-5"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="book-title-5"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 6 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="book-cover-6"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="book-title-6"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
          </div>
        </div>

        <div
          class="WhatPeopleHaveBeenReadingLately mt-16 text-center text-black text-4xl lg:text-5xl font-normal font-['Inria Serif'] leading-normal"
        >
          Something On Web Development
        </div>
        <div class="mt-16 w-full px-6 lg:px-0">
          <div
            id="web-book-container"
            class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"
          >
            <!-- Hardcoded Book Boxes -->
            <!-- Box 1 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="web-book-cover-1"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="web-book-title-1"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 2 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="web-book-cover-2"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="web-book-title-2"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 3 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="web-book-cover-3"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="web-book-title-3"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 4 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="web-book-cover-4"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="web-book-title-4"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 5 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="web-book-cover-5"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="web-book-title-5"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
            <!-- Box 6 -->
            <button
              class="flex flex-col items-center bg-white p-4 rounded-lg shadow-md hover:bg-gray-100 focus:outline-none"
            >
              <img
                id="web-book-cover-6"
                src="assets/book.png"
                class="w-40 h-auto mb-4"
                alt="Book Cover"
              />
              <div
                id="web-book-title-6"
                class="text-black text-xl font-normal font-['Inria Serif'] leading-normal"
              >
                Book
              </div>
            </button>
          </div>
        </div>
      </main>
    </div>

    <footer class="text-blue-900 py-4">
      <div class="container mx-auto flex justify-between items-center">
        <div>
          <a href="#" class="px-4 py-2 bg-blue-900 text-white rounded-md"
            >Privacy</a
          >
          <a href="#" class="px-4 py-2 bg-blue-900 text-white rounded-md"
            >Terms</a
          >
        </div>
        <div>
          <a href="#" class="text-blue-900 mx-2"
            ><i class="fab fa-twitter"></i
          ></a>
          <a href="#" class="text-blue-900 mx-2"
            ><i class="fab fa-instagram"></i
          ></a>
          <a href="#" class="text-blue-900 mx-2"
            ><i class="fab fa-whatsapp"></i
          ></a>
        </div>
      </div>
      <div class="text-center mt-2">Built with ❤️ by kelvin</div>
    </footer>

    <script>
      function toggleMenu() {
        const menu = document.getElementById('mobile-menu');
        // Toggle the hidden class to show/hide the menu
        menu.classList.toggle('hidden');
      }

      function checkAuthStatus() {
        const token = localStorage.getItem('authToken');
        const authButton = document.getElementById('auth-button');
        const authLink = document.getElementById('auth-link');
        const mobileAuthButton = document.getElementById('mobile-auth-button');
        const mobileAuthLink = document.getElementById('mobile-auth-link');

        if (token) {
          authButton.textContent = 'Profile';
          authLink.href = './profile.html'; // Change this to your profile page URL
          mobileAuthButton.textContent = 'Profile';
          mobileAuthLink.href = './profile.html'; // Change this to your profile page URL
        } else {
          authButton.textContent = 'Sign in';
          authLink.href = './signup.html';
          mobileAuthButton.textContent = 'Sign in';
          mobileAuthLink.href = './signup.html';
        }
      }

      async function fetchBooks() {
        try {
          const response = await fetch(
            'https://readr-back-end.onrender.com/readr/books/popular-books'
          );
          const data = await response.json();

          if (data.status && data.results > 0) {
            const bookElements = [
              { cover: 'book-cover-1', title: 'book-title-1' },
              { cover: 'book-cover-2', title: 'book-title-2' },
              { cover: 'book-cover-3', title: 'book-title-3' },
              { cover: 'book-cover-4', title: 'book-title-4' },
              { cover: 'book-cover-5', title: 'book-title-5' },
              { cover: 'book-cover-6', title: 'book-title-6' },
            ];

            data.data.slice(0, 6).forEach((book, index) => {
              const bookElement = bookElements[index];
              document.getElementById(bookElement.cover).src = book.cover;
              document.getElementById(bookElement.title).textContent =
                book.title;
            });
          }
        } catch (error) {
          console.error('Error fetching book data:', error);
        }
      }

      async function fetchWebBooks() {
        try {
          const response = await fetch(
            'https://readr-back-end.onrender.com/readr/books/web-dev-books'
          );
          const data = await response.json();

          if (data.status && data.results > 0) {
            const bookElements = [
              { cover: 'web-book-cover-1', title: 'web-book-title-1' },
              { cover: 'web-book-cover-2', title: 'web-book-title-2' },
              { cover: 'web-book-cover-3', title: 'web-book-title-3' },
              { cover: 'web-book-cover-4', title: 'web-book-title-4' },
              { cover: 'web-book-cover-5', title: 'web-book-title-5' },
              { cover: 'web-book-cover-6', title: 'web-book-title-6' },
            ];

            data.data.slice(0, 6).forEach((book, index) => {
              const bookElement = bookElements[index];
              document.getElementById(bookElement.cover).src = book.cover;
              document.getElementById(bookElement.title).textContent =
                book.title;
            });
          }
        } catch (error) {
          console.error('Error fetching book data:', error);
        }
      }

      window.addEventListener('load', () => {
        checkAuthStatus();
        fetchBooks();
        fetchWebBooks();
      });
    </script>
  </body>
</html>
